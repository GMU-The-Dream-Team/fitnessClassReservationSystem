{% extends 'base_layout.html' %}

{% block content%}

    {% if flag == True %}
        <table>
            <th>Classes Offered</th>
            <tr>
                {% for k,v in classList.items %}
                <td>
                    <form class="staff-class-selection" action="{% url 'reservations:staffReservations' %}" method="post">
                    {% csrf_token %}
                        <p>{{v.className}}</p>
                        <p>{{v.dayOfWeek}}</p>
                        <p>{{v.startTime}}</p>
                        <input name="classId" type="hidden" value="{{k}}"></input>
                        <button type="submit">View Reservations</button>             
                    </form>
                </td>
                {% endfor %}
            </tr>
        </table>
        {{statement}}
    {% else %}
        {% if reservedCounter > 0%}
            <table>
                <h2>Reserved List</h2>
                <th>First Name</th>
                <th>Last Name</th>
                <th>Phone Number</th>
                <th>Date Reserved</th>
                {% if reservedCounter > 0 %}
                    {% for k, v in reservedList.items %}
                        <tr>
                            <td>
                                {{v.customerReserving.firstName}}
                            </td>
                            <td>
                                {{v.customerReserving.lastName}}
                            </td>
                            <td>
                                {{v.customerReserving.phoneNumber}}
                            </td>
                            <td>
                                {{v.reservationDate}}
                            </td>                                    
                        </tr>
                    {% endfor %}
                {% else %}
                    <p> No reservations made for this class</p>
                {% endif %}
            </table>
        {% endif %}

        {% if overDraftCounter > 0 %}
        <table>
            <h2>Overdraft List</h2>
            <th>First Name</th>
            <th>Last Name</th>
            <th>Phone Number</th>
            <th>Date Reserved</th>
            {% for k, v in overDraftList.items %}
                <tr>
                    <td>
                        {{v}}
                    </td>
                </tr>
            {% endfor %}
        </table>
        {% endif %}

        {% if waitListCounter > 0 %}
            <table>
                <th>Wait List</th>
                    {% for k, v in waitList.items %}
                        <tr>
                            <td>
                                {{v}}
                            </td>
                        </tr>
                    {% endfor %}
            </table>  
        {% endif %}

    {% endif %}
{% endblock %}

